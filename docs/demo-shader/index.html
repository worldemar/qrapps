<style>canvas{left:0;top:0;position:absolute}</style><canvas id="c"></canvas><script>var t=()=>{requestAnimationFrame(A)},e=(e,t)=>i.getUniformLocation(e,t),r=(e,t,o)=>(o=i.createShader(o),i.shaderSource(o,t),i.compileShader(o),i.attachShader(e,o),o),i=(o=document.getElementById("c")).getContext("webgl"),a=o.width=window.innerWidth,n=o.height=window.innerHeight,c=-.5,x=0,v=3,f=-.5,l=0,d=1,o=i.createBuffer(),y=(i.viewport(0,0,a,n),i.ARRAY_BUFFER);i.bindBuffer(y,o),i.bufferData(y,new Float32Array([-1,-1,1,-1,-1,1,1,1]),i.STATIC_DRAW);r(o=i.createProgram(),"attribute vec2 pos;void main(){gl_Position=vec4(pos,0,1);}",i.VERTEX_SHADER),r(o,"precision highp float;uniform vec2 cs,c;uniform float s;vec4 calc(vec2 tex){float x=.0,y=.0;float v=1e5,j=1e5;for(int it=0;it<1000;++it){float _x=x*x-y*y+tex.x;y=2.0*x*y+tex.y;x=_x;v=min(v,abs(x*x+y*y));j=min(j,abs(x*y));if (x*x+y*y>=9.0) {float d=(float(it)-(log(log(sqrt(x*x+y*y)))/log(2.0)))/50.0;v=(1.0-v)/10.0;j=(1.0-j)/2.0;return vec4(d+j,d+v,d,1);}}v=2.0/log(v);return vec4(v*v,v*v*v,v*v*v*v,1);}void main(){vec2 tex=(gl_FragCoord.xy/cs.xy)*2.0-vec2(1.0,1.0);tex.x=tex.x*cs.x/cs.y;tex=tex*s+c;gl_FragColor=calc(tex);}",i.FRAGMENT_SHADER),i.linkProgram(o),i.useProgram(o);var y=i.getAttribLocation(o,"pos"),s=e(o,"cs"),g=e(o,"c"),m=e(o,"s"),u=(i.enableVertexAttribArray(y),i.vertexAttribPointer(y,2,i.FLOAT,!1,0,0),window.onkeydown=function(e){e=e.keyCode,f+=.1*v*((39==e)-(37==e)),l+=.1*v*((38==e)-(40==e)),d*=1+.1*((109==e)-(107==e)),t()},(e,i)=>1e-6<Math.abs(e-i)),A=()=>{i.uniform2f(s,a,n),i.uniform2f(g,c,x),i.uniform1f(m,v),i.drawArrays(i.TRIANGLE_STRIP,0,4),(u(c,f)||u(x,l)||u(v,d))&&(c+=.1*(f-c),x+=.1*(l-x),v+=.1*(d-v),t())};t()</script>