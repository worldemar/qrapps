<style>canvas{left:0;top:0;position:absolute}div{padding:4px;position:absolute;color:#fff;font-family:monospace;background:rgba(0,0,0,.5)}</style><canvas id="c"></canvas><div id="h"><script>var n=()=>{requestAnimationFrame(R)},t=(t,e)=>r.getUniformLocation(t,e),e=(t,e,a)=>(a=r.createShader(a),r.shaderSource(a,e),r.compileShader(a),r.getShaderParameter(a,r.COMPILE_STATUS),r.attachShader(t,a),a),i=t=>t.toFixed(5),a=document.getElementById("c"),o=document.getElementById("h"),r=a.getContext("webgl"),c=0,d=0,l=2,h=0,s=0,f=0,g=0,m=0,v=0,u=0,b=0,x=0,w=r.createBuffer(),A=r.ARRAY_BUFFER;r.bindBuffer(A,w),r.bufferData(A,new Float32Array([-1,-1,1,-1,-1,1,1,1]),r.STATIC_DRAW);e(w=r.createProgram(),"attribute vec2 pos;void main(){gl_Position=vec4(pos,0,1);}",r.VERTEX_SHADER),e(w,"precision highp float;uniform vec2 cs,cp;uniform float s;uniform vec2 c;vec2 cm(vec2 a,vec2 b){return vec2(a.x*b.x-a.y*b.y,a.x*b.y+a.y*b.x);} const int MI=500;const float MD=1e8;float f(float n,vec3 hsl){float k=mod(n+hsl.x*12.,12.);float a=hsl.y*min(hsl.z,1.-hsl.z);return hsl.z-a*max(min(k-3.,min(9.-k, 1.)),-1.);}vec3 hsl2rgb(vec3 hsl){return vec3(f(0.,hsl),f(8.,hsl),f(4.,hsl));}vec3 pc(vec2 t,vec2 c){float maxdist = 0.0;vec2 z=t;float d;for(int i=0;i<MI;i++){z=cm(z,z)+c;d=length(z);if (maxdist<d){maxdist=d;}if (maxdist>MD){float d1 = sqrt((float(i)-log2(log(d)/log(sqrt(MD)))+1.)/log2(float(MI*MI)));return hsl2rgb(vec3(1.0-d1/5.0,1.0-d1,0.1+d1/3.0));}}float d1=d/maxdist;d1=d1*d1;d1=d1*d1;d1=d1*d1;d1=d1*d1;return hsl2rgb(vec3(0.8-d1/3.0,0.5+d1/2.0,d1/4.0+0.25));}void main(){vec2 t=(gl_FragCoord.xy/cs.xy)*2.0-vec2(1.0,1.0);t.x=t.x*cs.x/cs.y;t=t*s+cp;float D=length(c-t)/s;if (D<0.015){D=(D<0.01?1.0:0.0);gl_FragColor=vec4(D,D,D,1.0);}else{gl_FragColor=vec4(pc(t, c), 1.0);}}",r.FRAGMENT_SHADER),r.linkProgram(w),r.useProgram(w);var A=r.getAttribLocation(w,"pos"),p=t(w,"cs"),D=t(w,"cp"),y=t(w,"s"),M=t(w,"c"),R=(r.enableVertexAttribArray(A),r.vertexAttribPointer(A,2,r.FLOAT,!1,0,0),a.onmousedown=t=>{1==++x&&(m=t.clientX,v=t.clientY,u=c,b=d)},a.onmouseup=()=>{x--},a.onmousemove=t=>{var e=a.getBoundingClientRect();f=c+l*(2*(t.clientX-e.left)/e.width-1)*e.width/e.height,g=d+l*(2*(e.bottom-t.clientY-e.top)/e.height-1),0<x&&(Math.abs(f-h)<.01*l&&Math.abs(g-s)<.01*l?(h=f,s=g):(c=u-(t.clientX-m)/a.height*l*2,d=b+(t.clientY-v)/a.height*l*2),n())},a.onwheel=t=>{var e=c+-1*l*a.width/a.height,r=c+ +l*a.width/a.height,i=d+-1*l,o=d+ +l,t=.0025*-t.deltaY;l=((o+=(g-o)*t)-(i+=(g-i)*t))/2,c=((r+=(f-r)*t)+(e+=(f-e)*t))/2,d=(i+o)/2,n()},()=>{a.width=window.innerWidth,a.height=window.innerHeight,r.viewport(0,0,a.width,a.height),r.uniform2f(p,a.width,a.height),r.uniform2f(D,c,d),r.uniform2f(M,h,s),r.uniform1f(y,l),r.drawArrays(r.TRIANGLE_STRIP,0,4),o.innerHTML=["Center: "+i(c)+","+i(d),"Constant: "+i(h)+","+i(s),"Zoom: "+i(l)].join("<br/>")});(window.onresize=n)()</script>