<style>canvas{left:0;top:0;position:fixed}div{position:fixed;color:#fff;font-family:monospace;background:rgba(0,0,0,.5)}div#h{padding:16px;font-size:32px}div#m,div#p{font-size:80px;padding:40px}*{touch-action:none}</style><canvas id="c"></canvas><div id="h"></div><div id="p">+</div><div id="m">-</div><script>var o=()=>{requestAnimationFrame(I)},t=(t,e)=>c.getUniformLocation(t,e),e=(t,e,r)=>(r=c.createShader(r),c.shaderSource(r,e),c.compileShader(r),c.attachShader(t,r),r),r=t=>t.toFixed(5),n=t=>{var t=t.touches.item(0),e=a.getBoundingClientRect(),r=t.pageX;return[r,t=t.pageY,f+s*(2*(r-e.left)/e.width-1)*e.width/e.height,h+s*(2*(e.height-t)/e.height-1)]},a=((i=(t,e,r)=>{(t=document.getElementById(t)).style.left=window.innerWidth-e,t.ontouchstart=()=>{s*=r,o()}})("p",136,.9),i("m",272,1.1),document.getElementById("c")),l=document.getElementById("h"),c=a.getContext("webgl"),f=0,h=0,s=2,d=0,m=0,g=0,u=0,v=0,b=0,p=0,w=0,A=0,x=!1,i=c.createBuffer(),y=c.ARRAY_BUFFER;c.bindBuffer(y,i),c.bufferData(y,new Float32Array([-1,-1,1,-1,-1,1,1,1]),c.STATIC_DRAW);e(i=c.createProgram(),"attribute vec2 p;void main(){gl_Position=vec4(p,0,1);}",c.VERTEX_SHADER),e(i,"precision highp float;uniform vec2 cs,cp;uniform float s;uniform vec2 c;uniform float ds;vec2 cm(vec2 a,vec2 b){return vec2(a.x*b.x-a.y*b.y,a.x*b.y+a.y*b.x);} const int MI=254;const float MD=1e8;float f(float n,vec3 hsl){float k=mod(n+hsl.x*12.,12.);float a=hsl.y*min(hsl.z,1.-hsl.z);return hsl.z-a*max(min(k-3.,min(9.-k, 1.)),-1.);}vec3 hsl2rgb(vec3 hsl){return vec3(f(0.,hsl),f(8.,hsl),f(4.,hsl));}vec3 pc(vec2 t,vec2 c){float md=.0;vec2 z=t;float d;for(int i=0;i<MI;i++){z=cm(z,z)+c;d=length(z);if(md<d){md=d;}if(md>MD){float l=sqrt((float(i)-log2(log(d)/log(sqrt(MD)))+1.)/log2(float(MI*MI)));return hsl2rgb(vec3(1.-l/5.,1.-l,.1+l/3.));}}float l=pow(d/md,16.);return hsl2rgb(vec3(.8-l/3.,.5+l/2.,l/4.+.25));}void main(){vec2 t=(gl_FragCoord.xy/cs.xy)*2.-vec2(1.,1.);t.x=t.x*cs.x/cs.y;t=t*s+cp;float D=length(c-t)/s;if (D<ds){D=(D<(ds-.005)?1.:.0);gl_FragColor=vec4(D,D,D,1.);}else{gl_FragColor=vec4(pc(t,c),1.);}}",c.FRAGMENT_SHADER),c.linkProgram(i),c.useProgram(i);var y=c.getAttribLocation(i,"p"),D=t(i,"cs"),M=t(i,"cp"),R=t(i,"s"),E=t(i,"ds"),F=t(i,"c"),I=(c.enableVertexAttribArray(y),c.vertexAttribPointer(y,2,c.FLOAT,!1,0,0),a.ontouchstart=t=>{var e;t.preventDefault(),1==++A&&([v,b,t,e]=n(t),p=f,w=h,Math.abs(t-d)<.1*s&&Math.abs(e-m)<.1*s&&(x=!0)),o()},a.ontouchend=()=>{0==--A&&(x=!1),o()},a.ontouchmove=t=>{var e,r;[t,e,g,u]=n(t),0<A&&(x?(d=g,m=u):(r=2*s/a.height,f=p-(t-v)*r,h=w+(e-b)*r),o())},()=>{var t=a.width=window.innerWidth,e=a.height=window.innerHeight;c.viewport(0,0,t,e),c.uniform2f(D,t,e),c.uniform2f(M,f,h),c.uniform2f(F,d,m),c.uniform1f(E,x?.1:.015),c.uniform1f(R,s),c.drawArrays(c.TRIANGLE_STRIP,0,4),l.innerHTML=["Center: "+r(f)+","+r(h),"Constant: "+r(d)+","+r(m),"Zoom: "+r(s)].join("<br/>")});(window.onresize=o)()</script>