<style>canvas{left:0;top:0;position:fixed}div{position:fixed;color:#fff;font-family:monospace;background:rgba(0,0,0,0)}div#h{padding:16px;font-size:32px}div#m,div#p{font-size:80px;padding:40px}*{touch-action:none}</style><canvas id="c"></canvas><div id="h"></div><div id="p">&#x2795;</div><div id="m">&#x2796;</div><script>var o=()=>{requestAnimationFrame(I)},e=(e,t)=>l.getUniformLocation(e,t),t=(e,t,r)=>(r=l.createShader(r),l.shaderSource(r,t),l.compileShader(r),l.attachShader(e,r),r),r=e=>e.toFixed(5),n=e=>{var e=e.touches.item(0),t=a.getBoundingClientRect(),r=e.pageX;return[r,e=e.pageY,f+s*(2*(r-t.left)/t.width-1)*t.width/t.height,h+s*(2*(t.height-e)/t.height-1)]},a=((i=(e,t,r)=>{(e=document.getElementById(e)).style.left=window.innerWidth-t,e.ontouchstart=()=>{s*=r,o()}})("p",190,.9),i("m",380,1.1),document.getElementById("c")),c=document.getElementById("h"),l=a.getContext("webgl"),f=0,h=0,s=2,d=0,m=0,g=0,u=0,v=0,p=0,b=0,w=0,A=0,x=!1,i=l.createBuffer(),y=l.ARRAY_BUFFER;l.bindBuffer(y,i),l.bufferData(y,new Float32Array([-1,-1,1,-1,-1,1,1,1]),l.STATIC_DRAW);t(i=l.createProgram(),"attribute vec2 p;void main(){gl_Position=vec4(p,0,1);}",l.VERTEX_SHADER),t(i,"precision highp float;uniform vec2 cs,cp;uniform float s;uniform vec2 c;uniform float ds;vec2 cm(vec2 a,vec2 b){return vec2(a.x*b.x-a.y*b.y,a.x*b.y+a.y*b.x);} const int I=254;float f(float n,vec3 hsl){float k=mod(n+hsl.x*12.,12.);float a=hsl.y*min(hsl.z,1.-hsl.z);return hsl.z-a*max(min(k-3.,min(9.-k, 1.)),-1.);}vec3 C(vec3 hsl){return vec3(f(0.,hsl),f(8.,hsl),f(4.,hsl));}vec3 pc(vec2 t,vec2 c){float O=.0;vec2 z=t;float d;for(int i=0;i<I;i++){z=cm(z,z)+c;d=length(z);O=O<d?d:O;if(O>1e8){float l=sqrt((float(i)-log2(log(d)/log(sqrt(1e8)))+1.)/log2(float(I*I)));return C(vec3(1.-l/5.,1.-l,.1+l/3.));}}float l=pow(d/O,16.);return C(vec3(.8-l/3.,.5+l/2.,l/4.+.25));}void main(){vec2 t=(gl_FragCoord.xy/cs.xy)*2.-vec2(1.,1.);t.x=t.x*cs.x/cs.y;t=t*s+cp;float D=length(c-t)/s;if (D<ds){D=(D<(ds-.005)?1.:.0);gl_FragColor=vec4(D,D,D,1.);}else{gl_FragColor=vec4(pc(t,c),1.);}}",l.FRAGMENT_SHADER),l.linkProgram(i),l.useProgram(i);var y=l.getAttribLocation(i,"p"),D=e(i,"cs"),C=e(i,"cp"),R=e(i,"s"),E=e(i,"ds"),F=e(i,"c"),I=(l.enableVertexAttribArray(y),l.vertexAttribPointer(y,2,l.FLOAT,!1,0,0),a.ontouchstart=e=>{var t;e.preventDefault(),1==++A&&([v,p,e,t]=n(e),b=f,w=h,Math.abs(e-d)<.1*s)&&Math.abs(t-m)<.1*s&&(x=!0),o()},a.ontouchend=()=>{0==--A&&(x=!1),o()},a.ontouchmove=e=>{var t,r;[e,t,g,u]=n(e),0<A&&(x?(d=g,m=u):(r=2*s/a.height,f=b-(e-v)*r,h=w+(t-p)*r),o())},()=>{var e=a.width=window.innerWidth,t=a.height=window.innerHeight;l.viewport(0,0,e,t),l.uniform2f(D,e,t),l.uniform2f(C,f,h),l.uniform2f(F,d,m),l.uniform1f(E,x?.1:.015),l.uniform1f(R,s),l.drawArrays(l.TRIANGLE_STRIP,0,4),c.innerHTML=["Center: "+r(f)+","+r(h),"Constant: "+r(d)+","+r(m),"Zoom: "+r(s)].join("<br/>")});(window.onresize=o)()</script>